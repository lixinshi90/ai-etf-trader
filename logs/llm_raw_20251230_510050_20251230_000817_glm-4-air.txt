根据提供的数据和交易规则，以下是ETF代码510050的决策：

```json
{
  "decision": "buy",
  "confidence": 0.85,
  "reasoning": "MA50>MA200，显示上升趋势，ATR较低，市场波动小，可适当增加仓位。当前价格未突破阻力位，但已站在MA20之上，建议买入。",
  "target_price": null,
  "stop_loss": 3.1090 - (3.1090 * 0.05), // 假设止损设置为当前价格减去5%的浮动亏损
  "take_profit": null // 由于是买入信号，止盈价将在盈利达到12%时根据历史最高价回撤4%设置
}
```

请注意，止损价是根据当前价格减去5%计算的，而止盈价没有在当前决策中设置，因为它将在持仓浮动盈利达到12%时根据历史最高价回撤4%来确定。